--[[


    This AntiCheat Was Made By ANT!

    This is a SERVER script

    All Executors are down, so i cant currently check if i made an error... sooo if it dosent work dont blame me!
]]

local maxNum = 60

local playerS = game:GetService("Players")

local rs = game:GetService("RunService")

local function getPlayers()
    return playerS:GetPlayers()
end

local LastPositions = {}

local function UpdatePos(plr)
   task.spawn(function()
       local char = plr.Character or plr.CharacterAdded:Wait()
       for i, info in pairs(LastPositions) do
          if not info["User"] == plr then continue end
          if (char:GetPivot().Position - info["CFrame"].Position).Magnitude > 20 then plr:Kick("Teleportation Detected!") end
          table.remove(LastPositions, i)
       end
       table.insert(LastPositions, {
         ["User"] = plr,
         ["CFrame"] = char:GetPivot()
       })
   end)
end

rs.Heartbeat:Connect(function()
    task.spawn(function()
        for _, plr in pairs(getPlayers())
            task.spawn(function()
                local char = plr.Character or plr.CharacterAdded:Wait()
                UpdatePos(plr)
                if not char:FindFirstChild("HumanoidRootPart") then continue end
                if char:FindFirstChild("HumanoidRootPart").Velocity.Y > maxNum then plr:Kick("JumpBoost Detected, Kicked By Plasma AntiCheat!") end
                local X = char:FindFirstChild("HumanoidRootPart").Velocity.X
                local Z = char:FindFirstChild("HumanoidRootPart").Velocity.Z
                if X > maxNum or X < -maxNum then plr:Kick("Speed Detected, Kicked By Plasma AntiCheat!") end
                if Z > maxNum or Z < -maxNum then plr:Kick("Speed Detected, Kicked By Plasma AntiCheat!") end
            end)
        end
    end)
end)
